var transmission,dialog,isMobileDevice=RegExp("(iPhone|iPod|Android)").test(navigator.userAgent),scroll_timeout;if(!Array.indexOf){Array.prototype.indexOf=function(c){var b,a;for(b=0,a=this.length;b<a;b++){if(this[b]==c){return b}}return -1}}$.fn.tabbedDialog=function(a){this.tabs({selected:0});this.dialog(a);this.find(".ui-tab-dialog-close").append(this.parent().find(".ui-dialog-titlebar-close"));this.find(".ui-tab-dialog-close").css({position:"absolute",right:"0",top:"16px"});this.find(".ui-tab-dialog-close > a").css({"float":"none",padding:"0"});var b=this.find("ul:first");this.parent().addClass("ui-tabs").prepend(b).draggable("option","handle",b);this.siblings(".ui-dialog-titlebar").remove();b.addClass("ui-dialog-titlebar")};$(document).ready(function(){if(!Date.now){Date.now=function(){return +new Date()}}if($.browser.msie){try{document.execCommand("BackgroundImageCache",false,true)}catch(a){}$(".dialog_container").css("height",$(window).height()+"px")}if($.browser.safari){$("#torrent_search").css("margin-top",3)}if(isMobileDevice){window.onload=function(){setTimeout(function(){window.scrollTo(0,1)},500)};window.onorientationchange=function(){setTimeout(function(){window.scrollTo(0,1)},100)};if(window.navigator.standalone){$("body div#torrent_container").css("min-height","338px")}$("label[for=torrent_upload_url]").text("URL: ")}else{$(".trans_menu ul, div#jqContextMenu, div.dialog_container div.dialog_window").css("border","1px solid #777");$(".trans_menu div.outerbox").css("border","none")}dialog=new Dialog();transmission=new Transmission()});function setInnerHTML(b,a){if(!b){return}if(b.currentHTML!=a){b.currentHTML=a;b.innerHTML=a}}function sanitizeText(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function setTextContent(a,b){if(a&&(a.textContent!=b)){a.textContent=b}}Math.ratio=function(b,c){var a=Math.floor(100*b/c)/100;if(a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY){a=-2}else{if(isNaN(a)){a=-1}}return a};Number.prototype.toTruncFixed=function(a){var b=Math.floor(this*Math.pow(10,a))/Math.pow(10,a);return b.toFixed(a)};Number.prototype.toStringWithCommas=function(){return this.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g,",")};String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")};function Prefs(){}Prefs.prototype={};Prefs._RefreshRate="refresh_rate";Prefs._FilterMode="filter";Prefs._FilterAll="all";Prefs._FilterActive="active";Prefs._FilterSeeding="seeding";Prefs._FilterDownloading="downloading";Prefs._FilterPaused="paused";Prefs._FilterFinished="finished";Prefs._SortDirection="sort_direction";Prefs._SortAscending="ascending";Prefs._SortDescending="descending";Prefs._SortMethod="sort_method";Prefs._SortByAge="age";Prefs._SortByActivity="activity";Prefs._SortByName="name";Prefs._SortByQueue="queue_order";Prefs._SortBySize="size";Prefs._SortByProgress="percent_completed";Prefs._SortByRatio="ratio";Prefs._SortByState="state";Prefs._CompactDisplayState="compact_display_state";Prefs._Defaults={filter:"all",refresh_rate:5,sort_direction:"ascending",sort_method:"name","turtle-state":false,compact_display_state:false};Prefs.setValue=function(b,c){if(!(b in Prefs._Defaults)){console.warn("unrecognized preference key '%s'",b)}var d=30;var a=new Date();a.setTime(a.getTime()+(d*24*60*60*1000));document.cookie=b+"="+c+"; expires="+a.toGMTString()+"; path=/"};Prefs.getValue=function(e,h){var g;if(!(e in Prefs._Defaults)){console.warn("unrecognized preference key '%s'",e)}var c=document.cookie.split(";");for(var d=0,a=c.length;!g&&d<a;++d){var b=c[d].trim();var f=b.indexOf("=");if((f===e.length)&&b.indexOf(e)===0){g=b.substring(f+1)}}if(!g){g=h}else{if(g==="true"){g=true}else{if(g==="false"){g=false}}}return g};Prefs.getClutchPrefs=function(b){if(!b){b={}}for(var a in Prefs._Defaults){b[a]=Prefs.getValue(a,Prefs._Defaults[a])}return b};jQuery.fn.forceNumeric=function(){return this.each(function(){$(this).keydown(function(b){var a=b.which||b.keyCode;return !b.shiftKey&&!b.altKey&&!b.ctrlKey&&a>=48&&a<=57||a>=96&&a<=105||a===190||a===188||a===109||a===110||a===8||a===9||a===13||a===35||a===36||a===37||a===39||a===46||a===45})})};function parseUri(e){var d=parseUri.options,a=d.parser[d.strictMode?"strict":"loose"].exec(e),c={},b=14;while(b--){c[d.key[b]]=a[b]||""}c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(g,f,h){if(f){c[d.q.name][f]=h}});return c}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};