function FileRow(q,h,b,n,g){var j={have:0,indices:[],isWanted:true,priorityLow:false,priorityNormal:false,priorityHigh:false,me:this,size:0,torrent:null},a={priority_low_button:null,priority_normal_button:null,priority_high_button:null,progress:null,root:null},i=function(s,v,r,u,t){j.torrent=s;j.indices=u;k(s,v,r,t)},c=function(){var r=$(a.root);r.toggleClass("skip",!j.isWanted);r.toggleClass("complete",p());$(r[0].checkbox).prop("disabled",!o());$(r[0].checkbox).prop("checked",j.isWanted)},m=function(){var r=100*(j.size?(j.have/j.size):1),s=[Transmission.fmt.size(j.have)," / ",Transmission.fmt.size(j.size)," (",Transmission.fmt.percentString(r),"%)"].join("");setTextContent(a.progress,s)},f=function(){var v,u,w=0,t=0,s=false,r=false,y=false,x=false;for(v=0;v<j.indices.length;++v){u=j.torrent.getFile(j.indices[v]);w+=u.bytesCompleted;t+=u.length;s|=u.wanted;switch(u.priority){case -1:r=true;break;case 0:y=true;break;case 1:x=true;break}}if((j.have!=w)||(j.size!=t)){j.have=w;j.size=t;m()}if(j.isWanted!==s){j.isWanted=s;c()}if(j.priorityLow!==r){j.priorityLow=r;$(a.priority_low_button).toggleClass("selected",r)}if(j.priorityNormal!==y){j.priorityNormal=y;$(a.priority_normal_button).toggleClass("selected",y)}if(j.priorityHigh!==x){j.priorityHigh=x;$(a.priority_high_button).toggleClass("selected",x)}},p=function(){return j.have>=j.size},o=function(){return(j.torrent.getFileCount()>1)&&!p()},k=function(u,x,s,w){var v,r,t;r=document.createElement("li");r.className="inspector_torrent_file_list_entry"+(w?"even":"odd");a.root=r;v=document.createElement("input");v.type="checkbox";v.className="file_wanted_control";v.title="Download file";$(v).change(function(y){d($(y.currentTarget).prop("checked"))});r.checkbox=v;r.appendChild(v);v=document.createElement("div");v.className="file-priority-radiobox";t=v;v=document.createElement("div");v.className="low";v.title="低优先级";$(v).click(function(){e(-1)});a.priority_low_button=v;t.appendChild(v);v=document.createElement("div");v.className="normal";v.title="普通优先级";$(v).click(function(){e(0)});a.priority_normal_button=v;t.appendChild(v);v=document.createElement("div");v.title="高优先级";v.className="high";$(v).click(function(){e(1)});a.priority_high_button=v;t.appendChild(v);r.appendChild(t);v=document.createElement("div");v.className="inspector_torrent_file_list_entry_name";setTextContent(v,s);$(v).click(function(){l(-1)});r.appendChild(v);v=document.createElement("div");v.className="inspector_torrent_file_list_entry_progress";r.appendChild(v);$(v).click(function(){l(-1)});a.progress=v;$(r).css("margin-left",""+(x*16)+"px");f();return r},d=function(r){$(j.me).trigger("wantedToggled",[j.indices,r])},e=function(r){$(j.me).trigger("priorityToggled",[j.indices,r])},l=function(){$(j.me).trigger("nameClicked",[j.me,j.indices])};this.getElement=function(){return a.root};this.refresh=function(){f()};i(q,h,b,n,g)};